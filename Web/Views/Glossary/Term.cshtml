@model Web.Models.GlossaryView

@{
	ViewBag.Title = Model.ActiveTerm != null ? Model.ActiveTerm.Term + " - Glossary" : "Glossary";
	ViewBag.NavGlossary = true;
	Bundles.Reference("content/templates/glossary");
}

<div class="row">
	<div class="span5 module" id="uxList">
		<h1>
			@if (User.IsInRole("Glossary")) 
			{ 
				<a href="#" id="btnVersion" data-id="@Model.Version.Value" class="right">v.@Model.Version.Value</a>  
			}
			else 
			{ 
				<span class="right">v.@Model.Version.Value</span>  
			}
			@Model.Terms.Count() Terms
		</h1>
		<div class="scrollable">
			<ul id="ulTerms" class="unstyled"></ul>
		</div>			
	</div>
	<div class="span11 module" id="uxTerm"></div>
</div>
<div id="uxTermsDialog" class="none"></div>
@section templates
{
	@Bundles.RenderHtmlTemplates()
}

@section scripts
{
	<script type="text/javascript">		
		$(function ()
		{
			var terms = @Html.Raw(Json.Encode(Model.Terms));
			var activeTerm = @Html.Raw(Json.Encode(Model.ActiveTerm));
			window.Glossary = new App.Glossary(terms, activeTerm, @Html.Raw(Json.Encode(User.IsInRole("Glossary"))));
		});
	</script>

}
